<!DOCTYPE HTML>

<html>

<head>
	<meta charset="utf-8">
	<title>Paulo Ortins</title>
	<meta name="author" content="Paulo Ortins">

	
	<meta name="description" content="
		
	">
	

	<!-- http://t.co/dKP3o1e -->
	<meta name="HandheldFriendly" content="True">
	<meta name="MobileOptimized" content="320">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	
	
	<link rel="canonical" href="/page2/">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
	<link href='http://fonts.googleapis.com/css?family=Open+Sans:300,400,400italic,600,700,800' rel='stylesheet' type='text/css'>
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/css/main.css" media="screen, projection" rel="stylesheet" type="text/css">
	<link rel="stylesheet" href="/css/syntax.css" type="text/css">
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>	
  	
</head>


<body>
  <div class="container">
    <div class="left-col">
      <div class="intrude-less">
        <header id="header" class="inner"><div class="profilepic">
	
	<img src="http://www.gravatar.com/avatar/a1c6e240931b44f7f4b21492232cd3fc.png?s=160" alt="Profile Picture" style="width: 160px;" />
	
</div>
<hgroup>
  <h1><a href="/">Paulo Ortins</a></h1>
  
</hgroup>
<nav id="main-nav"><ul class="main-navigation">
  <li><a href="/about/">about</a></li>
  <li><a href="/archives">archives</a></li>
</ul>


</nav>
<nav id="sub-nav">
	<div class="social">
		
		
		
		
	</div>
</nav></header>        
      </div>
    </div>
    <div class="mid-col">
      <div class="mid-col-container">
        <div id="content" class="inner">
<div itemscope itemtype="http://schema.org/Blog">



    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
        
	<h1 class="title" itemprop="name"><a href="/2013/06/15/good-resources-to-learn-casp-net/" itemprop="url">Resources to become a Ninja: C#</a></h1>	
	<div class="entry-content" itemprop="articleBody">
		<p>A friend is starting to use C# and asked me to recommend some resources. I had the idea to make a resource list:</p>
<p><strong>Books:</strong></p>
<p><a href="http://www.amazon.com/gp/product/1430242337/ref=as_li_ss_tl?ie=UTF8&camp=1789&creative=390957&creativeASIN=1430242337&linkCode=as2&tag=paulorti-20">Pro C# 5.0 and the .NET 4.5 Framework</a><img src="http://www.assoc-amazon.com/e/ir?t=paulorti-20&l=as2&o=1&a=1430242337" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" /> by Andrew Troelsen: Has been considered by readers, the best book to learn C#, there are a lot of good reviews on amazon. It covers from basics about c# until advanced areas like delegates, lambda expressions, reflections and so on.</p>
<p><a href="http://www.amazon.com/gp/product/1935182471/ref=as_li_ss_tl?ie=UTF8&camp=1789&creative=390957&creativeASIN=1935182471&linkCode=as2&tag=paulorti-20">C# in Depth, Second Edition</a><img src="http://www.assoc-amazon.com/e/ir?t=paulorti-20&l=as2&o=1&a=1935182471" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" /> by John Skeet: My favorite C# book, it covers the improvements made in the language since C#1/2. It explains what were the motivations behind each new feature. It's a good book to know more about C# history.</p>
<p><a href="http://www.amazon.com/gp/product/047064320X/ref=as_li_ss_tl?ie=UTF8&camp=1789&creative=390957&creativeASIN=047064320X&linkCode=as2&tag=paulorti-20">Professional Test Driven Development with C#: Developing Real World Applications with TDD</a><img src="http://www.assoc-amazon.com/e/ir?t=paulorti-20&l=as2&o=1&a=047064320X" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" /> by James Bender: I used this book to learn about TDD (Test-Driven Development), it starts with a basic TDD example, showing why we have to use TDD, then covers some practices that make tdd possible like DI, SOLID, Mocks, Stubs and so on. After that, it ends up building a web application from the scratch using TDD and ASP.NET MVC.</p>
<p><a href="http://www.amazon.com/gp/product/1430242361/ref=as_li_ss_tl?ie=UTF8&camp=1789&creative=390957&creativeASIN=1430242361&linkCode=as2&tag=paulorti-20">Pro ASP.NET MVC 4</a><img src="http://www.assoc-amazon.com/e/ir?t=paulorti-20&l=as2&o=1&a=1430242361" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" /> by Adam Freeman: It was the book that I used to learn ASP.NET MVC. It starts developing a simple web application using ASP.NET MVC, TDD, Dependency Injection and so on. And in second part, it covers in depth the framework parts ( View Engine, Controllers, Actions, Model Validations, integration with jQuery and Deployment.</p>
<p><a href="http://www.amazon.com/gp/product/0321877586/ref=as_li_ss_tl?ie=UTF8&camp=1789&creative=390957&creativeASIN=0321877586&linkCode=as2&tag=paulorti-20">Essential C# 5.0 (4th Edition)</a><img src="http://www.assoc-amazon.com/e/ir?t=paulorti-20&l=as2&o=1&a=0321877586" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" /> by Mark Michaelis: It's good for beginners and veterans alike. The authors talk about C# language itself, but also on how to write and structure your code.</p>
<p><a href="http://www.microsoft.com/en-us/download/details.aspx?id=7029">Language Specification</a>: The C# Language Specification provides a complete description of the C# language 5.0.</p>
<p><strong>Online Videos:</strong></p>
<p><a href="http://channel9.msdn.com/">Channel9</a>: A lot of talks given in Microsoft Events.</p>
<p><a href="http://www.pluralsight.com/training" title="PluralSight">PluralSight</a>: Paid site with a lot of training videos including C#, ASP.NET MVC, Windows Azure, TDD, Software Practices, WPF. Offers a 7-day trial period.</p>
<p><a href="http://www.youtube.com/user/PETERTEACH">PeterTeach Youtube Channel</a> by Peter Thorsteinson: It has a lot of training videos covering C# and Microsoft environment.</p>
<p><strong>Forums</strong></p>
<p><a href="http://forums.asp.net/">ASP.NET Forums</a>: Forum with everything you can imagine about ASP.NET. MVC, Web Forms, SPA, SignalR and so on.</p>
<p><strong>Blogs</strong></p>
<p><a href="http://blogs.msdn.com/b/ericlippert/">Eric Lippert's Old Blog</a> and <a href="http://ericlippert.com/">Eric Lippert's New Blog</a>: Principal Developer on the C# Compiler. He blogs more about the language and the decisions behind the features.</p>
<p><a href="http://msmvps.com/blogs/jon_skeet/">Jon Skeet's Blog</a>: Google software engineer and famous writer</p>
<p><a href="http://www.bluebytesoftware.com/blog/Default.aspx">Joe Duffy's Blog</a>: Microsoft Architect</p>
<p><a href="http://geekswithblogs.net/BlackRabbitCoder/Default.aspx">James Michael Hare's Blog</a></p>
<p><a href="http://www.hanselman.com/blog/">Scott Hanselman's Blog</a></p>
<p><a href="http://weblogs.asp.net/scottgu/">Scott Guthrie's</a>: Scott runs several development teams at Microsoft</p>
<p><strong>Podcasts</strong></p>
<p><a href="http://www.dotnetrocks.com/">DotNet Rocks</a>: Weekly blog about programming in .NET Platform.</p>
<p><strong>Call for Suggestions</strong></p>
<p>I'm really interested in increase this list, so please send me more suggestions!</p>

		
		
	</div>

    </article>




    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
        
	<h1 class="title" itemprop="name"><a href="/2013/05/08/code-kata-javascript-jasmine/" itemprop="url">Practicing programming with Code Kata and Javascript/Jasmine</a></h1>	
	<div class="entry-content" itemprop="articleBody">
		<p>In <a href="http://pauloortins.com/jasmine-javascript-unit-tests/" title="Jasmine, you have to write javascript unit tests !">my last post</a>, we saw how jasmine works, how we can create tests, make asserts and so on. In this post, I propose that we do a practice named <em>Code Kata</em>. The name <em>Kata</em> came from martial arts, where it means a series of moviments that focus on skills improvement. So a Code Kata is a series of programming exercises that focus on programming skills improvement. To this post, I chose the following kata:</p>
<div class="highlight"><pre><code class="javascript"><span class="cm">/*</span>
<span class="cm">Your task is process a integer sequence to determine the </span>
<span class="cm">following statistics:</span>

<span class="cm">   Minimum Value</span>
<span class="cm">   Maximum Value</span>
<span class="cm">   Sequence Length</span>
<span class="cm">   Average Value</span>

<span class="cm">E.g. For a integer sequence &quot;6, 9, 15, -2, 92, 11&quot; we have the </span>
<span class="cm">following answers:</span>

<span class="cm">   Minimum Value: -2</span>
<span class="cm">   Maximum Value: 92</span>
<span class="cm">   Sequence Length: 6</span>
<span class="cm">   Average Value: 18.1666666</span>
<span class="cm">*/</span>
</code></pre></div>
<p><br/><br />
<strong>Hands on! Downloading Jasmine!</strong></p>
<p>Click <a href="https://github.com/pivotal/jasmine/downloads">here</a> to download the most recent Jasmine version. Extracting zip file, we will find the following folder structure:</p>
<p><a href="http://pauloortins.com/wp-content/uploads/2013/05/Screen-Shot-2013-05-07-at-7.29.06-PM.png"><img src="http://pauloortins.com/wp-content/uploads/2013/05/Screen-Shot-2013-05-07-at-7.29.06-PM-243x300.png" alt="Screen Shot 2013-05-07 at 7.29.06 PM" width="243" height="300" class="alignnone size-medium wp-image-313" /></a></p>
<p>Here, were have to pay attention in the following folders:</p>
<ul>
<li><em>spec</em> where we will put our tests</li>
<li><em>src</em> where we will put our production code, code that will be tested</li>
</ul>
<p>We can notice that default project comes with a bunch of tests, if we run <em>SpecRunner.html</em>, we will see the tests being executed.</p>
<p><a href="http://pauloortins.com/wp-content/uploads/2013/05/Screen-Shot-2013-05-14-at-9.28.02-PM.png"><img src="http://pauloortins.com/wp-content/uploads/2013/05/Screen-Shot-2013-05-14-at-9.28.02-PM.png" alt="Screen Shot 2013-05-14 at 9.28.02 PM" width="441" height="262" class="alignnone size-full wp-image-370" /></a></p>
<p>For our example, let's remove these files and add our own tests.</p>
<div class="highlight"><pre><code class="javascript"><span class="c">&lt;!--</span> <span class="nx">include</span> <span class="nx">source</span> <span class="nx">files</span> <span class="nx">here</span><span class="p">...</span> <span class="o">--&gt;</span>
<span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span> <span class="nx">src</span><span class="o">=</span><span class="s2">&quot;src/Kata.js&quot;</span><span class="o">&gt;&lt;</span><span class="err">/script&gt;</span>

<span class="c">&lt;!--</span> <span class="nx">include</span> <span class="nx">spec</span> <span class="nx">files</span> <span class="nx">here</span><span class="p">...</span> <span class="o">--&gt;</span>
<span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span> <span class="nx">src</span><span class="o">=</span><span class="s2">&quot;spec/KataSpec.js&quot;</span><span class="o">&gt;&lt;</span><span class="err">/script&gt;</span>
</code></pre></div>
<p><br/><br />
<strong>Requirement 1:</strong></p>
<p>Our first requirement is find the minimum value in a list, remember that we are running <a href="http://pauloortins.com/tdd-test-driven-development/" title="Intro to TDD – Test-Driven Development">TDD</a>, so let's write our first test, and we will see our test fail.</p>
<div class="highlight"><pre><code class="javascript"><span class="c1">// KataSpec.js</span>

<span class="nx">describe</span><span class="p">(</span><span class="s2">&quot;Calculating Statistics&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
   <span class="kd">var</span> <span class="nx">kata</span><span class="p">;</span>
   <span class="kd">var</span> <span class="nx">list</span><span class="p">;</span>

   <span class="nx">beforeEach</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="nx">kata</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Kata</span><span class="p">();</span>
      <span class="nx">list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">92</span><span class="p">,</span> <span class="mi">11</span><span class="p">];</span>
   <span class="p">});</span>

   <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;should calculate minimum value properly&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">minimumValue</span> <span class="o">=</span> <span class="nx">kata</span><span class="p">.</span><span class="nx">calculateMinimumValue</span><span class="p">(</span><span class="nx">list</span><span class="p">);</span>
      <span class="nx">expect</span><span class="p">(</span><span class="nx">minimumValue</span><span class="p">).</span><span class="nx">toEqual</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">);</span>
   <span class="p">});</span>
<span class="p">});</span>
</code></pre></div>
<p><a href="http://pauloortins.com/wp-content/uploads/2013/05/Screen-Shot-2013-05-14-at-9.41.43-PM.png"><img src="http://pauloortins.com/wp-content/uploads/2013/05/Screen-Shot-2013-05-14-at-9.41.43-PM.png" alt="Screen Shot 2013-05-14 at 9.41.43 PM" width="474" height="276" class="alignnone size-full wp-image-372" /></a></p>
<p>Obviously, our test will fail, because we don't create our Kata class yet, let's write it!</p>
<div class="highlight"><pre><code class="javascript"><span class="c1">// Kata.js</span>

<span class="kd">function</span> <span class="nx">Kata</span><span class="p">()</span> <span class="p">{</span>

<span class="p">}</span>

<span class="nx">Kata</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">calculateMinimumValue</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">list</span><span class="p">)</span> <span class="p">{</span>
   <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">};</span>
</code></pre></div>
<p>And now, we have a different error, the function isn't implemented properly.</p>
<p><a href="http://pauloortins.com/wp-content/uploads/2013/05/Screen-Shot-2013-05-14-at-9.44.33-PM.png"><img src="http://pauloortins.com/wp-content/uploads/2013/05/Screen-Shot-2013-05-14-at-9.44.33-PM.png" alt="Screen Shot 2013-05-14 at 9.44.33 PM" width="467" height="225" class="alignnone size-full wp-image-374" /></a></p>
<p>Let's implement the code that will make our first test pass.</p>
<div class="highlight"><pre><code class="javascript"><span class="c1">// Kata.js</span>

<span class="kd">function</span> <span class="nx">Kata</span><span class="p">()</span> <span class="p">{</span>

<span class="p">}</span>

<span class="nx">Kata</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">calculateMinimumValue</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">list</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">list</span><span class="p">.</span><span class="nx">sort</span><span class="p">();</span>
   <span class="k">return</span> <span class="nx">list</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<span class="p">};</span>
</code></pre></div>
<p><a href="http://pauloortins.com/wp-content/uploads/2013/05/Screen-Shot-2013-05-14-at-9.45.19-PM.png"><img src="http://pauloortins.com/wp-content/uploads/2013/05/Screen-Shot-2013-05-14-at-9.45.19-PM.png" alt="Screen Shot 2013-05-14 at 9.45.19 PM" width="322" height="157" class="alignnone size-full wp-image-375" /></a></p>
<p>It's all green! Our first test passed, now we can move to the second requirement.</p>
<p><strong>Requirement 2:</strong></p>
<p>Our second requirement is to find the maximum value in a list. Let's write our second test and a fail implementation.</p>
<div class="highlight"><pre><code class="javascript"><span class="c1">// KataSpec.js</span>

<span class="nx">describe</span><span class="p">(</span><span class="s2">&quot;Calculating Statistics&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
   <span class="kd">var</span> <span class="nx">kata</span><span class="p">;</span>
   <span class="kd">var</span> <span class="nx">list</span><span class="p">;</span>

   <span class="nx">beforeEach</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="nx">kata</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Kata</span><span class="p">();</span>
      <span class="nx">list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">92</span><span class="p">,</span> <span class="mi">11</span><span class="p">];</span>
   <span class="p">});</span>

   <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;should calculate minimum value properly&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">minimumValue</span> <span class="o">=</span> <span class="nx">kata</span><span class="p">.</span><span class="nx">calculateMinimumValue</span><span class="p">(</span><span class="nx">list</span><span class="p">);</span>
      <span class="nx">expect</span><span class="p">(</span><span class="nx">minimumValue</span><span class="p">).</span><span class="nx">toEqual</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">);</span>
   <span class="p">});</span>

   <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;should calculate maximum value properly&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">maximumValue</span> <span class="o">=</span> <span class="nx">kata</span><span class="p">.</span><span class="nx">calculateMaximumValue</span><span class="p">(</span><span class="nx">list</span><span class="p">);</span>
      <span class="nx">expect</span><span class="p">(</span><span class="nx">maximumValue</span><span class="p">).</span><span class="nx">toEqual</span><span class="p">(</span><span class="mi">92</span><span class="p">);</span>
   <span class="p">});</span>
<span class="p">});</span>
</code></pre></div>
<div class="highlight"><pre><code class="javascript"><span class="c1">// Kata.js</span>

<span class="kd">function</span> <span class="nx">Kata</span><span class="p">()</span> <span class="p">{</span>

<span class="p">}</span>

<span class="nx">Kata</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">calculateMinimumValue</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">list</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">list</span><span class="p">.</span><span class="nx">sort</span><span class="p">();</span>
   <span class="k">return</span> <span class="nx">list</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<span class="p">};</span>

<span class="nx">Kata</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">calculateMaximumValue</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">list</span><span class="p">)</span> <span class="p">{</span>
   <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">};</span>
</code></pre></div>
<p><a href="http://pauloortins.com/wp-content/uploads/2013/05/Screen-Shot-2013-05-14-at-9.48.04-PM.png"><img src="http://pauloortins.com/wp-content/uploads/2013/05/Screen-Shot-2013-05-14-at-9.48.04-PM.png" alt="Screen Shot 2013-05-14 at 9.48.04 PM" width="474" height="250" class="alignnone size-full wp-image-376" /></a></p>
<p>Let's move to our next implementation. This one will make our second test pass.</p>
<div class="highlight"><pre><code class="javascript"><span class="c1">// Kata.js</span>

<span class="kd">function</span> <span class="nx">Kata</span><span class="p">()</span> <span class="p">{</span>

<span class="p">}</span>

<span class="nx">Kata</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">calculateMinimumValue</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">list</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">list</span><span class="p">.</span><span class="nx">sort</span><span class="p">();</span>
   <span class="k">return</span> <span class="nx">list</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<span class="p">};</span>

<span class="nx">Kata</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">calculateMaximumValue</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">list</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">list</span><span class="p">.</span><span class="nx">sort</span><span class="p">();</span>
   <span class="k">return</span> <span class="nx">list</span><span class="p">[</span><span class="nx">list</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="p">];</span>
<span class="p">};</span>
</code></pre></div>
<p><a href="http://pauloortins.com/wp-content/uploads/2013/05/Screen-Shot-2013-05-14-at-9.48.37-PM.png"><img src="http://pauloortins.com/wp-content/uploads/2013/05/Screen-Shot-2013-05-14-at-9.48.37-PM.png" alt="Screen Shot 2013-05-14 at 9.48.37 PM" width="436" height="218" class="alignnone size-full wp-image-377" /></a></p>
<p>Now, we learned how the flow works, so let's write the third requirement.</p>
<p><strong>Requirement 3:</strong></p>
<p>We should calculate the sequence length. Let's write a test one more time.</p>
<div class="highlight"><pre><code class="javascript"><span class="c1">// KataSpec.js</span>

<span class="nx">describe</span><span class="p">(</span><span class="s2">&quot;Calculating Statistics&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
   <span class="kd">var</span> <span class="nx">kata</span><span class="p">;</span>
   <span class="kd">var</span> <span class="nx">list</span><span class="p">;</span>

   <span class="nx">beforeEach</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="nx">kata</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Kata</span><span class="p">();</span>
      <span class="nx">list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">92</span><span class="p">,</span> <span class="mi">11</span><span class="p">];</span>
   <span class="p">});</span>

   <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;should calculate minimum value properly&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">minimumValue</span> <span class="o">=</span> <span class="nx">kata</span><span class="p">.</span><span class="nx">calculateMinimumValue</span><span class="p">(</span><span class="nx">list</span><span class="p">);</span>
      <span class="nx">expect</span><span class="p">(</span><span class="nx">minimumValue</span><span class="p">).</span><span class="nx">toEqual</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">);</span>
   <span class="p">});</span>

   <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;should calculate maximum value properly&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">maximumValue</span> <span class="o">=</span> <span class="nx">kata</span><span class="p">.</span><span class="nx">calculateMaximumValue</span><span class="p">(</span><span class="nx">list</span><span class="p">);</span>
      <span class="nx">expect</span><span class="p">(</span><span class="nx">maximumValue</span><span class="p">).</span><span class="nx">toEqual</span><span class="p">(</span><span class="mi">92</span><span class="p">);</span>
   <span class="p">});</span>

   <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;should calculate sequence length properly&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">sequenceLength</span> <span class="o">=</span> <span class="nx">kata</span><span class="p">.</span><span class="nx">calculateSequenceLength</span><span class="p">(</span><span class="nx">list</span><span class="p">);</span>
      <span class="nx">expect</span><span class="p">(</span><span class="nx">sequenceLength</span><span class="p">).</span><span class="nx">toEqual</span><span class="p">(</span><span class="mi">6</span><span class="p">);</span>
   <span class="p">});</span>	
<span class="p">});</span>
</code></pre></div>
<div class="highlight"><pre><code class="javascript"><span class="c1">// Kata.js</span>

<span class="kd">function</span> <span class="nx">Kata</span><span class="p">()</span> <span class="p">{</span>

<span class="p">}</span>

<span class="nx">Kata</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">calculateMinimumValue</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">list</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">list</span><span class="p">.</span><span class="nx">sort</span><span class="p">();</span>
   <span class="k">return</span> <span class="nx">list</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<span class="p">};</span>

<span class="nx">Kata</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">calculateMaximumValue</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">list</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">list</span><span class="p">.</span><span class="nx">sort</span><span class="p">();</span>
   <span class="k">return</span> <span class="nx">list</span><span class="p">[</span><span class="nx">list</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="p">];</span>
<span class="p">};</span>

<span class="nx">Kata</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">calculateSequenceLength</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">list</span><span class="p">)</span> <span class="p">{</span>
   <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">};</span>
</code></pre></div>
<p>As expected, the test is failing</p>
<p><a href="http://pauloortins.com/wp-content/uploads/2013/05/Screen-Shot-2013-05-14-at-9.49.26-PM.png"><img src="http://pauloortins.com/wp-content/uploads/2013/05/Screen-Shot-2013-05-14-at-9.49.26-PM.png" alt="Screen Shot 2013-05-14 at 9.49.26 PM" width="481" height="230" class="alignnone size-full wp-image-378" /></a></p>
<p>Let's write the implementation.</p>
<div class="highlight"><pre><code class="javascript"><span class="c1">// Kata.js</span>

<span class="kd">function</span> <span class="nx">Kata</span><span class="p">()</span> <span class="p">{</span>

<span class="p">}</span>

<span class="nx">Kata</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">calculateMinimumValue</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">list</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">list</span><span class="p">.</span><span class="nx">sort</span><span class="p">();</span>
   <span class="k">return</span> <span class="nx">list</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<span class="p">};</span>

<span class="nx">Kata</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">calculateMaximumValue</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">list</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">list</span><span class="p">.</span><span class="nx">sort</span><span class="p">();</span>
   <span class="k">return</span> <span class="nx">list</span><span class="p">[</span><span class="nx">list</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="p">];</span>
<span class="p">};</span>

<span class="nx">Kata</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">calculateSequenceLength</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">list</span><span class="p">)</span> <span class="p">{</span>
   <span class="k">return</span> <span class="nx">list</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
<span class="p">};</span>
</code></pre></div>
<p><a href="http://pauloortins.com/wp-content/uploads/2013/05/Screen-Shot-2013-05-14-at-9.50.07-PM.png"><img src="http://pauloortins.com/wp-content/uploads/2013/05/Screen-Shot-2013-05-14-at-9.50.07-PM.png" alt="Screen Shot 2013-05-14 at 9.50.07 PM" width="431" height="208" class="alignnone size-full wp-image-379" /></a></p>
<p>Our tests are green again! The last test will be the reader's homework :D</p>
<p>Test in javascript is as easy as in others language, there are a lot of frameworks available. My objectives with this post was show a little bit about using TDD and javascript and show how we can improve our programming skills using Code Kata. I love to do Kata, if you know a good Code Kata site, let me know!</p>
<p><strong>Good Code Kata Sites</strong></p>
<ul>
<li><a href="http://codekata.pragprog.com/">Code Kata - Dave Thomas</a></li>
<li><a href="http://projecteuler.net/">Project Euler</a></li>
<li><a href="http://uva.onlinejudge.org/index.php?option=com_onlinejudge&Itemid=8">UVa Online Judge</a></li>
</ul>

		
		
	</div>

    </article>




    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
        
	<h1 class="title" itemprop="name"><a href="/2013/05/06/jasmine-javascript-unit-tests/" itemprop="url">Jasmine, you have to write javascript unit tests!</a></h1>	
	<div class="entry-content" itemprop="articleBody">
		<p>Some time ago I wrote about how important is to write unit tests for our code, you can read it <a href="http://pauloortins.com/tdd-test-driven-development/" title="Intro to TDD – Test-Driven Development">here</a>.</p>
<p>Today, I have seen a lot of developers talking about unit tests, but the majority of these efforts are focused to backend. My team is a example, we have a good coverage on our backend code but we leave the javascript code to be tested by the browser tests. Is it wrong ?</p>
<p>IMO, YES ! First of all, browser tests are slow, and they don't fail beautiful, we have less fail information in a acceptance tests than we would have in a unit test, and second, javascript is the language of the moment, jQuery, became interactive applications creation easier, and a lot of javascript frameworks have been created in the recent years, e.g. <a href="http://nodejs.org/">node.js</a>, <a href="http://backbonejs.org/">backbone.js</a>, <a href="http://angularjs.org/">angular.js</a>, <a href="http://emberjs.com/">ember.js</a> and so on. It's not a surprise that javascript is the most used language in <a href="https://github.com/languages">GitHub</a>.</p>
<p>With these informations, I googled for some unit test frameworks for javascript. The most used are:</p>
<p><a href="http://qunitjs.com/">QUnit</a>, framework created in 2009 by the jQuery Team.<br />
<a href="http://visionmedia.github.io/mocha/">Mocha</a>, bdd framework integrated with node.js.<br />
<a href="http://pivotal.github.io/jasmine/">Jasmine</a>, as Mocha, is a bdd framework and we will use this one in this post.</p>
<h1><strong>Jasmine</strong></h1>
<p>Jasmine was created due the dissatisfaction from the creators with existing framworks, between these dissatisfactions are the fact what most of them don't support async tests and others have a ugly syntax, hard to understand. Jasmine was born with the following ideas:</p>
<ul>
<li>RSpec based, from Ruby/li>
<li>Should encourage good tests practice</li>
<li>Easily integrated with build systems</li>
<li>And of course, easy to use</li>
</ul>
<p><strong>How Jasmine works</strong></p>
<p><em>Describe</em></p>
<p>A Jasmine test suite starts with a <em>describe</em> declaration that is a function that receive two parameters, the test suite name, and another function that will implement the tests.</p>
<div class="highlight"><pre><code class="javascript"><span class="nx">describe</span><span class="p">(</span><span class="s2">&quot;My test suite&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{});</span>
</code></pre></div>
<p><br/><br />
<em>It</em></p>
<p>The tests are implemented by the <em>It</em> function, that as <em>describe</em>, receive two parameters, the test name, and the function that represents the test.</p>
<div class="highlight"><pre><code class="javascript"><span class="nx">describe</span><span class="p">(</span><span class="s2">&quot;My test suite&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  
  <span class="nx">it</span><span class="p">(</span><span class="s2">&quot;testing a positive case&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="p">});</span>

  <span class="nx">it</span><span class="p">(</span><span class="s2">&quot;testing a negative case&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="p">});</span>

<span class="p">});</span>
</code></pre></div>
<p><br/><br />
<em>Expect/Matchers</em></p>
<p>The <em>expects</em> in jasmine are made by the <em>matchers</em>, that will compare the actual value with the expected value. The matchers can execute a negative assert using the <em>not</em> operator.</p>
<div class="highlight"><pre><code class="javascript"><span class="nx">describe</span><span class="p">(</span><span class="s2">&quot;My test suite&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  
  <span class="nx">it</span><span class="p">(</span><span class="s2">&quot;testing a positive case&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
     <span class="nx">expect</span><span class="p">(</span><span class="kc">true</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
  <span class="p">});</span>
  
  <span class="nx">it</span><span class="p">(</span><span class="s2">&quot;testing a negative case&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
     <span class="nx">expect</span><span class="p">(</span><span class="kc">true</span><span class="p">).</span><span class="nx">not</span><span class="p">.</span><span class="nx">toBe</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
  <span class="p">});</span>

<span class="p">});</span>
</code></pre></div>
<p><br/></p>
<p>The Jasmine by default has a lot of <em>matchers</em>, but it's extensible, new <em>matchers</em> can be added to <em>framework</em>.</p>
<div class="highlight"><pre><code class="javascript"><span class="nx">beforeEach</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">addMatchers</span><span class="p">({</span>
    <span class="nx">shouldBeLessThan</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">expected</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">actual</span> <span class="o">&lt;</span> <span class="nx">expected</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">});</span>
<span class="p">});</span>
</code></pre></div>
<p><br/><br />
<em>Setup/Teardown</em></p>
<p>Jasmine has support to <em>Setup</em> (functions that will be executed <strong>before</strong> each test) and to the <em>Teardown</em> (functions that will be executed <strong>after</strong> each test).</p>
<div class="highlight"><pre><code class="javascript"><span class="nx">describe</span><span class="p">(</span><span class="s2">&quot;My test suite&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">foo</span><span class="p">;</span>

  <span class="nx">beforeEach</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
     <span class="c1">// Function that will be executed BEFORE each test</span>
  <span class="p">});</span>

  <span class="nx">afterEach</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
     <span class="c1">// Function that will be executed AFTER each test</span>
  <span class="p">});</span>

<span class="p">});</span>
</code></pre></div>
<p><br/><br />
<em>Spies</em></p>
<p>Jasmine has support to <em>Mocks</em> using <em>Spies</em>, and also provide some custom matchers to make asserts using spies.</p>
<p><em>toHaveBeenCalled</em>, will return true if the spy was called</p>
<div class="highlight"><pre><code class="javascript"><span class="nx">describe</span><span class="p">(</span><span class="s2">&quot;My suite test&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">student</span><span class="p">,</span> <span class="nx">grade</span><span class="p">;</span>

  <span class="nx">beforeEach</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">student</span> <span class="o">=</span> <span class="p">{</span>
      <span class="nx">setGrade</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">grade</span> <span class="o">=</span> <span class="nx">value</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">};</span>

    <span class="nx">spyOn</span><span class="p">(</span><span class="nx">student</span><span class="p">,</span> <span class="s1">&#39;setGrade&#39;</span><span class="p">);</span>

    <span class="nx">student</span><span class="p">.</span><span class="nx">setGrade</span><span class="p">(</span><span class="mi">9</span><span class="p">);</span>
  <span class="p">});</span>

  <span class="nx">it</span><span class="p">(</span><span class="s2">&quot;verify if setGrade was called&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">expect</span><span class="p">(</span><span class="nx">student</span><span class="p">.</span><span class="nx">setGrade</span><span class="p">).</span><span class="nx">toHaveBeenCalled</span><span class="p">();</span>
  <span class="p">});</span>
<span class="p">});</span>
</code></pre></div>
<p><br/><br />
<em>andReturn</em>, will mock a object, and all calls will return the same value</p>
<div class="highlight"><pre><code class="javascript"><span class="nx">describe</span><span class="p">(</span><span class="s2">&quot;A spy, when faking a return value&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">student</span><span class="p">,</span> <span class="nx">grade</span><span class="p">;</span>

  <span class="nx">beforeEach</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">student</span> <span class="o">=</span> <span class="p">{</span>
      <span class="nx">setGrade</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">grade</span> <span class="o">=</span> <span class="nx">value</span><span class="p">;</span>
      <span class="p">},</span>
      <span class="nx">getGrade</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">grade</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">};</span>

    <span class="nx">spyOn</span><span class="p">(</span><span class="nx">student</span><span class="p">,</span> <span class="s1">&#39;getGrade&#39;</span><span class="p">).</span><span class="nx">andReturn</span><span class="p">(</span><span class="mi">8</span><span class="p">);</span>
  <span class="p">});</span>

  <span class="nx">it</span><span class="p">(</span><span class="s2">&quot;verify if it is the mocked grade&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">expect</span><span class="p">(</span><span class="nx">student</span><span class="p">.</span><span class="nx">getGrade</span><span class="p">()).</span><span class="nx">toEqual</span><span class="p">(</span><span class="mi">8</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">});</span>
</code></pre></div>
<p><br/><br />
In the next post, I will show how to use <strong>Jasmine</strong> in practice, creating a <em>Code Kata</em> using BDD and Jasmine :)</p>
<p>For more info, I recommend the Jasmine page:</p>
<p><a href="http://pivotal.github.io/jasmine/">Jasmine</a></p>

		
		
	</div>

    </article>




    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
        
	<h1 class="title" itemprop="name"><a href="/2013/04/28/performance-driven-development-usando-net-com-miniprofiler/" itemprop="url">Performance Driven Development usando .NET com MiniProfiler</a></h1>	
	<div class="entry-content" itemprop="articleBody">
		<p>No <a title="último post" href="http://pauloortins.wordpress.com/2013/04/23/performance-importa-e-muito/">último post</a> falei um pouco sobre a importância de se importar com a performance das nossas páginas, assim como, o quanto uma perfomance ruim impacta nos negócios das empresas. Nesse post vou falar como podemos estar mensurando a nossa performance.</p>
<p><strong>MiniProfiler</strong></p>
<p>O MiniProfiler é um framework desenvolvido pela equipe do <a title="Stack Overflow" href="http://stackoverflow.com/">Stack Overflow</a> e usando em produção tanto no Stack Overflow como no <a title="StackExchange" href="http://stackexchange.com/">StackExchange</a>. É leve, fácil de usar, e o melhor de tudo, é free e seu código está <a title="hospedado no GitHub :D" href="https://github.com/SamSaffron/MiniProfiler">hospedado no GitHub :D</a></p>
<p><strong>Como funciona</strong></p>
<p>O MiniProfiler não faz o profile automático de todos os métodos, ele teria que interagir com a CLR para observar quais métodos estão sendo executados, e isso é considerado pelo Core Team como muito invasivo.</p>
<p>Ao contrário, nós temos que adicionar Steps ao nosso código indicando as áreas que iremos fazer o profile.</p>
<p><strong>Usando o MiniProfiler</strong></p>
<p>Para exemplificar o uso do MiniProfiler, vamos criar uma aplicação padrão ASP.NET MVC4 chamada TestandoMiniProfiler.</p>
<p><a href="http://pauloortins.com/wp-content/uploads/2013/04/criacao-aplicacao1.png"><img class="alignnone size-full wp-image-238" alt="Criacao Aplicacao" src="http://pauloortins.com/wp-content/uploads/2013/04/criacao-aplicacao1.png" width="710" height="432" /></a></p>
<p>Para instalar o MiniProfiler basta executarmos o comando <em>Install-Package MiniProfiler.MVC3</em> no Package Manager Console.<br />
Nota: a versão é MVC3 mesmo !</p>
<p><a href="http://pauloortins.files.wordpress.com/2013/04/instalando.png"><img class="alignnone size-full wp-image-239" alt="Instalando" src="http://pauloortins.com/wp-content/uploads/2013/04/instalando1.png" width="710" height="382" /></a></p>
<pre>
@using StackExchange.Profiling @* Usando o MiniProfiler *@

<!DOCTYPE html>
<html>
<head></head>
<body>
   <header></header>
   <footer></footer>

   @Scripts.Render("~/bundles/jquery")
   @RenderSection("scripts", required: false)

   @* Renderizando CSS e Javascript*@
   @MiniProfiler.RenderIncludes()
</body>
</html>
</pre>
<p>Adicionando os arquivos css e javascript ao final da tag <em>body</em> no arquivo <em>_Layout.shtml</em>.</p>
<p>Por último vamos configurar alguns Steps para demonstração e pronto, temos o MiniProfiler funcionando !</p>
<pre>
public ActionResult Index()
{
   var profiler = MiniProfiler.Current; // it's ok if this is null
   using (profiler.Step("Alterando Mensagem Inicial"))
   {
      ViewBag.Message = "Nova mensagem inicial";
   }
   using (profiler.Step("Sub-Steps"))
   {
      using (profiler.Step("Sleep 100ms"))
      {
         Thread.Sleep(100);
      }
      using (profiler.Step("Sleep 250ms"))
      {
         Thread.Sleep(250);
      }
   }

   return View();
}
</pre>
<p>Se tudo ocorreu bem, devemos ver uma tela parecida com essa, onde podemos ver o tempo de execução de cada parte do nosso código ! Rápido, fácil, e pronto pra produção !</p>
<p><a href="http://pauloortins.com/wp-content/uploads/2013/04/results.png"><img class="alignnone size-full wp-image-250" alt="results" src="http://pauloortins.com/wp-content/uploads/2013/04/results.png" width="710" height="503" /></a></p>
<p><strong>Recursos Utilizados:</strong></p>
<p><a title="MiniProfiler.com" href="http://miniprofiler.com/">MiniProfiler.com</a><br />
<a title="Blog do Scott Hanselman" href="http://www.hanselman.com/blog/NuGetPackageOfTheWeek9ASPNETMiniProfilerFromStackExchangeRocksYourWorld.aspx">Blog do Scott Hanselman</a></p>

		
		
	</div>

    </article>




    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
        
	<h1 class="title" itemprop="name"><a href="/2013/04/16/mapreduce-com-python-utilizando-mincemeat-py/" itemprop="url">MapReduce com python utilizando mincemeat.py</a></h1>	
	<div class="entry-content" itemprop="articleBody">
		<p><strong>O que é o MapReduce ?</strong></p>
<p>É um modelo de programação que tem como objetivo processar e gerar grandes coleções de dados, utlizando programação paralela para que possa rodar nos clusters. Hoje diversas empresas utilizam alguma implementação do MapReduce, tais como: Google, Facebook, Amazon e etc.</p>
<p>Algumas das aplicações do MapReduce são: processamento de logs, crawling de paginas da web, ordenações, criação de indices para buscas e etc.</p>
<p><strong>Funcionamento</strong></p>
<p><a href="http://pauloortins.com/wp-content/uploads/2013/04/mapreduce_overview.png"><img src="http://pauloortins.com/wp-content/uploads/2013/04/mapreduce_overview.png" alt="Mapreduce_Overview" width="400" height="300" class="alignnone size-full wp-image-207" /></a></p>
<p>O MapReduce, como o próprio nome sugere, é baseado em duas funções:</p>
<p>A função de Map, que processa os dados gerando um modelo de dados intermediário baseado em chave/valor.</p>
<p>A função de Reduce, que irá fazer o merge dos dados associados para a mesma chave.</p>
<p>O passo-a-passo de um programa usando MapReduce se dá da seguinte forma:</p>
<ol>
<li>
É inicializado um número X de execucões do programa onde X é o número de maquinas no cluster.</li>
<li>
Tais maquinas irão agir como Mappers, ou seja, irão fazer o parse dos dados em estado bruto para um modelo de dados intermediário baseado em chave/valor.</li>
<li>
Após a fase de mapeamento, os dados irão para a fase de Reduce, onde os Reducers irão executar a função de Reduce, com o objetivo de extrair dados para cada chave única.</li>
<li>
Após a fase de Reduce, os dados são sumarizados e disponibilizados.</li>
</ol>
<p><strong>Mincemeat.py</strong></p>
<p>O Mincemeat.py é uma implementação lightweight do MapReduce (apenas 1 arquivo com menos de 20kb) na linguagem python. Ele é open source e pode ser encontrado no GitHub (https://github.com/michaelfairley/mincemeatpy).</p>
<p><strong>Exemplo de aplicação usando o Mincemeat.py</strong></p>
<div class="highlight"><pre><code class="python"> 
<span class="kn">import</span> <span class="nn">mincemeat</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;Humpty Dumpty sat on a wall&quot;</span><span class="p">,</span>
 <span class="s">&quot;Humpty Dumpty had a great fall&quot;</span><span class="p">;,</span>
 <span class="s">&quot;All the King&#39;s horses and all the King&#39;s men&quot;</span><span class="p">,</span>
 <span class="s">&quot;Couldn&#39;t put Humpty together again&quot;</span><span class="p">,</span>
 <span class="p">]</span>
<span class="c"># The data source can be any dictionary-like object</span>
<span class="n">datasource</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">enumerate</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">mapfn</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
 <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">v</span><span class="o">.</span><span class="n">split</span><span class="p">():</span>
 <span class="k">yield</span> <span class="n">w</span><span class="p">,</span> <span class="mi">1</span>

<span class="k">def</span> <span class="nf">reducefn</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">vs</span><span class="p">):</span>
 <span class="n">result</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">vs</span><span class="p">)</span>
 <span class="k">return</span> <span class="n">result</span>

<span class="n">s</span> <span class="o">=</span> <span class="n">mincemeat</span><span class="o">.</span><span class="n">Server</span><span class="p">()</span>
<span class="n">s</span><span class="o">.</span><span class="n">datasource</span> <span class="o">=</span> <span class="n">datasource</span>
<span class="n">s</span><span class="o">.</span><span class="n">mapfn</span> <span class="o">=</span> <span class="n">mapfn</span>
<span class="n">s</span><span class="o">.</span><span class="n">reducefn</span> <span class="o">=</span> <span class="n">reducefn</span>

<span class="n">results</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">run_server</span><span class="p">(</span><span class="n">password</span><span class="o">=&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">changeme</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;)</span>
<span class="k">print</span> <span class="n">results</span>
</code></pre></div>
<p>O exemplo acima é um programa que tem como objetivo contar o número de vezes em que cada palavra se repete.</p>
<p>O exemplo utiliza a funcão mapfn que irá transformar os dados em um modelo de dados intermediário composto de chave/valor, onde a chave é a palavra e o valor será igual a 1.</p>
<p>Após isso a função de reduce irá somar o número de aparições de cada palavra somando os valores que compartilham a mesma chave.</p>
<p>Até que então os dados serão disponibilizados para o cliente.</p>
<p><strong>Executando o exemplo</strong></p>
<ol>
<li>Baixar os arquivos <a href="https://github.com/michaelfairley/mincemeatpy/blob/master/example.py" title="example.py" target="_blank">example.py</a> e o <a href="https://github.com/michaelfairley/mincemeatpy/blob/master/mincemeat.py" title="mincemeat.py" target="_blank">mincemeat.py</a></li>
<li>Abrir janela do console na pasta dos arquivos e inicializar o server através do comando "python example.py"
<p><a href="http://pauloortins.com/wp-content/uploads/2013/04/untitled-2.png"><img src="http://pauloortins.com/wp-content/uploads/2013/04/untitled-2.png" alt="Untitled 2" width="363" height="239" class="alignnone size-full wp-image-203" /></a></li>
<li>Abrir outra janela do console na pasta dos arquivos e inicializar o client através do comando "python mincemeat.py -p changeme localhost"
<p><a href="http://pauloortins.com/wp-content/uploads/2013/04/untitled-3.png"><img src="http://pauloortins.com/wp-content/uploads/2013/04/untitled-3.png" alt="Untitled 3" width="364" height="232" class="alignnone size-full wp-image-204" /></a>
</li>
<li>Após a execução, o programa irá exibir na tela o resultado do processamento.
<p><a href="http://pauloortins.com/wp-content/uploads/2013/04/untitled.png"><img src="http://pauloortins.com/wp-content/uploads/2013/04/untitled.png" alt="Untitled" width="474" height="307" class="alignnone size-full wp-image-202" /></a></li>
</ol>
<p><strong>Conclusão</strong></p>
<p>O MapReduce é um modelo muito fácil de utilizar, visto que ele encapsula muitas das dificuldades ao se criar um programa que utiliza programação paralela/distribuida tais como:  paralelização, balanceamento de carga e tolerância a falhas e etc.</p>
<p>Também tem sido largamente usado em empresas que armazenam grandes quantidades de dados (Big Data), ex: Redes Sociais, Buscadores e etc, e a tendência é que seja cada vez mais utilizado, afinal, a cada dia que passa as empresas acumulam cada vez mais dados.</p>
<p><strong>Fontes:</strong><br />
<a href="http://en.wikipedia.org/wiki/MapReduce" title="Artigo no Wikipedia" target="_blank">Artigo no Wikipedia</a><br />
<a href="http://static.googleusercontent.com/external_content/untrusted_dlcp/research.google.com/en//archive/mapreduce-osdi04.pdf" title="Artigo do Google Research" target="_blank">Artigo do Google Research</a></p>

		
		
	</div>

    </article>




    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
        
	<h1 class="title" itemprop="name"><a href="/2012/09/25/tdd-test-driven-development/" itemprop="url">Intro to TDD - Test-Driven Development</a></h1>	
	<div class="entry-content" itemprop="articleBody">
		<p><strong>Test-Driven Development</strong></p>
<p>Created by <a href="http://en.wikipedia.org/wiki/Kent_Beck">Kent Beck</a> as part of <a href="http://en.wikipedia.org/wiki/Extreme_Programming">Xtreme Programming </a>in 2003.</p>
<p>The TDD is a programming methodology that aims to break the software development in small cycles guided by <a href="http://en.wikipedia.org/wiki/Unit_testing">unit tests</a>.</p>
<p>These cycles are made following this flow:</p>
<ul>
<li>Programmer choose a small piece from the software being developed</li>
<li>Programmer writes a test that will indicate when a software piece is done</li>
<li>Programmer writes the simpler code available to pass the test</li>
<li>Programmer can/should do code refactoring</li>
</ul>
<p>The cycle is repeated any times until all the software is done.</p>
<p><strong>TDD Benefits</strong></p>
<p>So, what are the TDD Benefits ?</p>
<p>Imagine that all our code was made following a TDD flow. The first benefit is your code reliability, all our funcionalities have unit tests testing them, so we should produce a few number of bugs.</p>
<p>The TDD provide us a "Living Documentation", when we create unit tests, we are, also, writing documentation, we can anytime, look for our tests, and discover our requirements.</p>
<p>If we write only the code that is necessary to pass our tests, we are also, positive influencing our application design, since we are not writing unnecessary code, neither taking any design decision for problems that we dont have yet. We are also reducing code coupling since that coupled code is harder to test.</p>
<p>Finally, code with testes, increase our confident when changing our code. During our application life cycle our code will change for the following reasons:</p>
<ul>
<li>Team will know better the customer business</li>
<li>The customer business can change</li>
<li>We have to add more funcionalities</li>
</ul>
<p>TDD will permit us to embrace the changes without worry about introduce bugs, and more, it provide to the programmers the capacity to refactoring code made by others, at the end of the day, we will have a collective code base with a awesome quality !.</p>
<p><strong>Problems with TDD</strong></p>
<p>During my experience doing TDD, i had the following problems:</p>
<p>The TDD flow is not hard to understand, we can learn it during a <a href="http://pauloortins.com/coding-dojo-practice-programming/" title="Coding Dojo – Practice programming is important !">Coding Dojo</a> easily, but develop a software using TDD all time, requires a big change in our mindset as developers. The learning curve is high, and we are tempted all the time to cheat and write production code before our tests, or worst, we are tempted to stop writing tests when it becomes difficult. It's common see teams stopping to use TDD, because a short deadline or for the reduction in productivity in the beginning.</p>
<p>Apply TDD properly depends on our Software Architecture, in some projects we will see that apply TDD is impossible due to the code coupling. The main goal here, is design the software taking into account the use of unit testing.</p>
<p>Finally, is easy to write bad tests, tests should help in the software maintenance, i cant be a problem. Many times we can afraid to change our code, cause will be hard to change our code tests, in this case, we have to rethink about the way we are creating our tests. It's also easy to create tests that are testing nothing, obviously, they are useless.</p>
<p><strong>Metrics related to unit tests</strong></p>
<p>There are some metrics that we use as a guide in our TDD Flow. I will talk about two of them:</p>
<p><a href="http://en.wikipedia.org/wiki/Code_coverage">Code Coverage</a>, is the percentage of our production code that is covered by tests, e.g. if my application code coverage is 80%, it means that for each one hundred code lines, 80 are executed when i run my tests. What is the goal ? In theory, 100%, if we only write code that is tested, all the code should be covered by tests, but, it doesn't work. It's hard to test efficiently framework interactions and related. But, in some areas, covering 100% is ok, for example in our Domain Classes. One thing that we have to think, is that code coverage is not related to test quality, we can achieve a high code coverage without test efficiently. This metric works better showing us areas in our software that we are failing to write tests.</p>
<p>The second metric is <a href="http://en.wikipedia.org/wiki/Cyclomatic_complexity">cyclomatic complexity</a>, and it's calculated using the number of possible paths that our software can run, e.g.:</p>
<p>If (age &gt;= 21) return “adult” else return “child”</p>
<p>In the code above, our cyclomatic complexity is 2, the person that we are analyzing can be a adult or a child. How is it related with tests ? If the cyclomatic complexity counts the number of execution paths that our software has, and i have to cover all my code with tests, we can think that the number of tests that a method will have will be, at minimum, equals to the method CC.</p>
<p><strong>Conclusion</strong></p>
<p>TDD, today, is a required skill to any professional developer. It worths the initial overhead in the development flow. Devs, please use TDD in your software, and companies, dont accept code without tests, they will make your lives better.</p>
<p><strong>Interesting Links</strong></p>
<p><a href="http://www.amazon.com/gp/product/0321146530/ref=as_li_ss_tl?ie=UTF8&camp=1789&creative=390957&creativeASIN=0321146530&linkCode=as2&tag=paulorti-20">Test Driven Development: By Example</a></p>
<p><a href="http://www.amazon.com/gp/product/0321503627/ref=as_li_ss_tl?ie=UTF8&camp=1789&creative=390957&creativeASIN=0321503627&linkCode=as2&tag=paulorti-20">Growing Object-Oriented Software, Guided by Tests</a></p>
<p><a href="http://www.amazon.com/gp/product/047064320X/ref=as_li_ss_tl?ie=UTF8&camp=1789&creative=390957&creativeASIN=047064320X&linkCode=as2&tag=paulorti-20">Professional Test Driven Development with C#: Developing Real World Applications with TDD</a></p>
<p>See you soon :D</p>

		
		
	</div>

    </article>




    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
        
	<h1 class="title" itemprop="name"><a href="/2011/11/27/coding-dojo-practice-programming/" itemprop="url">Coding Dojo - Practice programming is important !</a></h1>	
	<div class="entry-content" itemprop="articleBody">
		<p><strong>What is it ?</strong></p>
<p>Coding Dojo is a meeting where group of programmers gathering themselves to practice programming and solve a coding problem.</p>
<p><strong>History</strong></p>
<p>The coding dojo was born in Paris, France, where a group of french programmers perceived that different from the musicians and athletes that practice for an enormous amount of time, before show their skills in public, we, programmers dont have the habit to practice our skills outside the work environment, the code that we use to learn a new technology or a new way to do things is the same that goes to production. Because of that, we have two problems, or the programmers dont test new technologies e develop always using the same skillset or the prodution code is awful cause our skill in a particular technology is still improving. In this scenario, that the coding dojo was created, his name was copied from the martial arts, where dojo is a place where fighters come to improving their skills and master a fight style.</p>
<p><strong>Techniques used in a Coding Dojo</strong></p>
<p>Before to show how a coding dojo works, we have to see some techniques that we will be using, this techniques are TDD, Refactoring, Baby Steps and Pair Programming.</p>
<p><strong>TDD (Test-Driven Development)</strong></p>
<p>TDD is a development methodology that instead do manual tests after the implementation, we should focus on create automated tests BEFORE any implementation code, it brings to us the following benefits:</p>
<ul>
<li>We always will be writing the simpler code that passes the tests.</li>
<li>If the deadline becomes too short, our tests won't be forgotten.</li>
<li>We will be building a test suite that with a button click can show us if our build is a correct build or not, it's awesome cause it makes easier to maintain our code base, we can add other developers that know nothing about our code, and our suite will guarantee that they wont be breaking anything.
        </li>
<li>We cut costs with QA people, since most of the tests that will be executed in weeks by testers can be executed automatically.</li>
</ul>
<p><strong>Refactoring</strong></p>
<p>It's a techniques set that we can use to make an existing code base, simpler, easier to read, maybe with better performance, without change his behaviour. For more information, i STRONG recommend this Martin Fowlers's book: <a href="http://www.amazon.com/gp/product/B007WTFWJ6/ref=as_li_tf_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=B007WTFWJ6&linkCode=as2&tag=paulorti-20">Refactoring: Improving the Design of Existing Code (Addison-Wesley Object Technology Series)</a><img src="http://www.assoc-amazon.com/e/ir?t=paulorti-20&l=as2&o=1&a=B007WTFWJ6" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" /></p>
<p><strong>Baby Steps</strong></p>
<p>When doing a Coding Dojo we don't have to run to finish the problem, it is prohibited ! We aren't competing to know who is the best programmer, we have to develop one requirement for time.</p>
<p><strong>Pair Programming</strong></p>
<p>At a Coding Dojo, all the code is developed in pairs, when one of the programmers is coding, the other will be helping in the problem solution.</p>
<p><strong>How Coding Dojo works</strong></p>
<p>Coding dojo works in this way:</p>
<p>A problem is chosen by the group, the problem cant be a problem that we use to solve daily, neither be a easy problem that will be solved in 20 minutos, neither be a hard problem that will exclude beginners programmers.</p>
<p>After that, we choose a programming language and a test framework.</p>
<p>Ex:</p>
<p>Java + Junit</p>
<p>C# + MSTest</p>
<p>Now, we select two people that will start the coding dojo. One of them will be the coder, and the other one will be the helper. The remaining will be in the crowd waiting for their times.</p>
<p>The pair will start to solve the problem writing the first test, now we are in the red zone.</p>
<p><span style="color:#ff0000;"><strong>The Red Phase</strong></span></p>
<p>The red phase starts when our tests are failing, in this phase the crowd have to be in silence, while the pair works together to make the code work. The red zone ends when our tests are passing, at this time, the green phase starts.</p>
<p><span style="color:#008000;"><strong>The green phase</strong></span></p>
<p>In this phase our code is working properly and everyone can suggest changes that we will be improving our code quality. After all the refactorings, the pair will write a new test that will start one more time the red phase. This cycle is repeated until the problem is solved or until the end of the time available for the dojo.</p>
<p><strong>Everyone will write code !</strong></p>
<p>Should be chosen a time box, when the pair will be writing code, the default is 5 minutes, but it can be changed, at the end of this time, independent of the phase, the coder will go to the crowd, the helper becomes a coder, and someone from the crowd will become the new helper.</p>
<p><strong>Benefits to do a Coding Dojo</strong></p>
<ul>
<li>Meet diferent people</li>
<li>Improve programming skills using small problems</li>
<li>Learn from the experts and teach the beginners</li>
<li>Learn new languages/frameworks</li>
</ul>
<p><strong>Interesting Links:</strong></p>
<p>About Coding Dojo:</p>
<ul>
<li><a href="http://codingdojo.org/">http://codingdojo.org/</a>  - Official Site</li>
<li><a href="http://dojo-bahia.blogspot.com/">http://dojo-bahia.blogspot.com/</a> - Bahia Coding Dojo Group</li>
</ul>
<p>Where find problems to use in a Coding Dojo</p>
<ul>
<li><a href="http://codekata.pragprog.com/">http://codekata.pragprog.com/</a> - Dave Thomas Site, famous author and programmer</li>
</ul>

		
		
	</div>

    </article>


</div>
<nav id="pagenavi">
    
        <a href="/" class="prev">Prev</a>
    
    
    <div class="center"><a href="/archive">Blog Archives</a></div>
</nav></div>
      </div>
      <footer id="footer" class="inner"><p>
  Copyright &copy; 2014 - Paulo Ortins - Blog content under the Creative Commons <a href="http://creativecommons.org/licenses/by/2.5/">CC BY 2.5</a>
</p>
</footer>
    </div>
  </div>

</body>
</html>